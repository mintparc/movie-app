{"version":3,"sources":["components/Header/Header.js","components/Main/Main.js","assets/fill-heart.svg","assets/empty-heart.svg","components/Movie/Movie.js","assets/skeleton-heart.svg","components/Skeleton/Skeleton.js","utils/ModalPortal.js","utils/Modal.js","App.js","index.js"],"names":["Header","className","Main","title","summary","poster","bg","style","backgroundImage","src","alt","prototypes","PropTypes","string","isRequired","Movie","id","genres","handleModalOpen","favoriteMovies","saveFavorite","localStorage","setItem","JSON","stringify","handleFavoriteDelete","event","target","savedFavorites","filter","movie","setFavorite","img","EmptyHeart","onclick","handleFavorite","push","FillHeart","savedFavoriteMovies","getItem","parsedFavoriteMovies","parse","useState","includes","favorite","onClick","slice","map","genre","index","arrayOf","Skeleton","Array","fill","value","SkeletonHeart","ModalPortal","children","el","document","getElementById","ReactDOM","createPortal","Modal","open","close","videoId","elementId","e","stopPropagation","opts","width","height","playerVars","autoplay","App","state","isLoading","isModalOpen","main","movies","getMovies","a","axios","get","data","setState","handleModalClose","this","medium_cover_image","background_image_original","toString","yt_trailer_code","bind","React","Component","render","StrictMode"],"mappings":"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","file":"static/js/main.7b4e4620.chunk.js","sourcesContent":["import React from 'react'\nimport './Header.css'\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <h1 className=\"header__logo\">ㅇㅕㅇ ㅎㅗㅏ</h1>\n      <nav className=\"nav-menu\">\n      </nav>\n    </header>\n  )\n}\n\nexport default Header","import React from 'react'\nimport PropTypes from 'prop-types'\nimport './Main.css'\n\nfunction Main({ title, summary, poster, bg }) {\n  return (\n    <div className=\"main-movie\" style={{ \n      backgroundImage: `url( ${bg} )` \n    }}>\n      <div className=\"main-movie__gradient\"></div>\n      <img className=\"main-movie__poster\" src={poster} alt={title} />\n      <h3 className=\"main-movie__title\">{title}</h3>\n      <p className=\"main-movie__summary\">{summary}</p>\n    </div>\n  ) \n}\n\nMain.prototypes = {\n  title: PropTypes.string.isRequired,\n  summary: PropTypes.string.isRequired,\n  poster: PropTypes.string.isRequired,\n  bg: PropTypes.string.isRequired,\n}\n\nexport default Main","export default __webpack_public_path__ + \"static/media/fill-heart.6dcaf848.svg\";","export default __webpack_public_path__ + \"static/media/empty-heart.c31d61db.svg\";","import React, { useState, Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport './Movie.css'\nimport FillHeart from './../../assets/fill-heart.svg';\nimport EmptyHeart from './../../assets/empty-heart.svg';\n\nfunction Movie({ id, title, summary, poster, genres, handleModalOpen }) {\n  let favoriteMovies = []\n\n  const saveFavorite = () => {\n    localStorage.setItem('favorites', JSON.stringify(favoriteMovies))\n  }\n  \n  const handleFavoriteDelete = (event) => {\n    const target = event.target\n    savedFavorites()\n    favoriteMovies = favoriteMovies.filter(movie => movie !== target.id)\n    saveFavorite()\n    setFavorite({\n      img: EmptyHeart,\n      onclick: handleFavorite\n    })\n  }\n  \n  const handleFavorite = (event) => {\n    const target = event.target\n    savedFavorites()\n    favoriteMovies.push(target.id)\n    saveFavorite()\n    setFavorite({\n      img: FillHeart,\n      onclick: handleFavoriteDelete\n    })\n  }\n\n  const savedFavorites = () => {\n    const savedFavoriteMovies = localStorage.getItem('favorites')\n    if (savedFavoriteMovies !== null) {\n      const parsedFavoriteMovies = JSON.parse(savedFavoriteMovies)\n      favoriteMovies = parsedFavoriteMovies\n    }\n  }\n\n  savedFavorites()\n  \n  const [ favorite, setFavorite ] = useState({\n    img: favoriteMovies.includes(id) ? FillHeart : EmptyHeart,\n    onclick: favoriteMovies.includes(id) ? handleFavoriteDelete : handleFavorite\n  })\n\n  return (\n    <Fragment>\n      <div className=\"card-movie\">\n        <div className=\"card-movie__trailer\">\n          <button onClick={handleModalOpen}>▶︎ show trailer</button>\n        </div>\n        <img className=\"card-movie__poster\" src={poster} alt={title} />\n        <div className=\"card-movie__data\">\n          <img className=\"card-movie__heart\" id={id} src={favorite.img} onClick={favorite.onclick} alt=\"heart\"></img>\n          <h3 className=\"card-movie__title\">{title}</h3>\n          <ul className=\"card-movie__genres\">{genres.slice(0, 3).map((genre, index) => \n            <li key={index} className=\"card-movie__genre\">{genre}</li>)}\n          </ul>\n          <p className=\"card-movie__summary\">{summary}</p>\n        </div>\n      </div>\n    </Fragment>\n  ) \n}\n\nMovie.prototypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  summary: PropTypes.string.isRequired,\n  poster: PropTypes.string.isRequired,\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired\n}\n\nexport default Movie","export default __webpack_public_path__ + \"static/media/skeleton-heart.fdb76413.svg\";","import React, { Fragment } from 'react'\nimport './Skeleton.css'\nimport SkeletonHeart from './../../assets/skeleton-heart.svg';\n\nfunction Skeleton() {\n  return (\n    <Fragment>\n      <section className=\"main-skeleton\">\n        <div className=\"main-skeleton__poster\"></div>\n        <p className=\"main-skeleton__title\"></p>\n        <p className=\"main-skeleton__summary\"></p>\n      </section>\n      <section className=\"list-skeleton\">\n        {Array(20).fill('').map((value, index) => (\n          <div className=\"card-skeleton\" key={index}>\n            <div className=\"card-skeleton__poster\"></div>\n            <div className=\"card-skeleton__data\">\n              <img className=\"card-skeleton__heart\" src={SkeletonHeart} alt=\"heart\"></img>\n              <p className=\"card-skeleton__title\"></p>\n              <p className=\"card-skeleton__genres\"></p>\n              <p className=\"card-skeleton__summary\"></p>\n            </div>\n          </div>\n        ))}\n      </section>\n    </Fragment>\n  ) \n}\n\nexport default Skeleton","import ReactDOM from 'react-dom';\n\nconst ModalPortal = ({ children }) => {\n  const el = document.getElementById('modal-root');\n  return ReactDOM.createPortal(children, el);\n};\n\nexport default ModalPortal;","import React from 'react'\nimport YouTube from 'react-youtube';\nimport './Modal.css'\nimport './ModalPortal'\nimport ModalPortal from './ModalPortal';\n\nfunction Modal({ open, close, videoId }) {\n  const opts = {\n    width: '100%',\n    height: '550px',\n    playerVars: {\n      autoplay: 1\n    }\n  }\n\n  return(\n    <ModalPortal elementId=\"modal\">\n      <div className={ open ? 'modal modal--open' : 'modal'} onClick={close}>\n        { open? (\n          <section onClick={(e) => e.stopPropagation()}>\n            <YouTube videoId={videoId} opts={opts}/>\n            <button className=\"close\" onClick={close}>close</button>\n          </section>\n        ) : null }\n      </div>\n    </ModalPortal>\n  )\n}\n\nexport default Modal","import  React, { Fragment } from 'react'\nimport axios from 'axios'\nimport Header from './components/Header/Header'\nimport Main from './components/Main/Main'\nimport Movie from './components/Movie/Movie'\nimport Skeleton from './components//Skeleton/Skeleton'\nimport Modal from './utils/Modal'\nimport './App.css'\n\nclass App extends React.Component {\n  state = {\n    isLoading: true,\n    isModalOpen: false,\n    main: [],\n    movies: [],\n    videoId: ''\n  }\n\n  getMovies = async () => {\n    const { data: { data: { movies: { 0: main } } } } = await axios.get('https://yts-proxy.now.sh/list_movies.json?limit=1&sort_by=like_count&genre=animation&page=4')\n    const { data: { data: { movies } } } = await axios.get('https://yts-proxy.now.sh/list_movies.json?sort_by=like_count&quality=3D&genre=animation&page=2')\n    this.setState({ main, movies, isLoading: false })\n  }\n\n  componentDidMount () {\n    this.getMovies()\n  }\n\n  handleModalOpen = (videoId) => {\n    this.setState({ isModalOpen: true, videoId: videoId })\n  }\n  \n  handleModalClose = () => {\n    this.setState({ isModalOpen: false })\n  }\n\n  render() {\n    const { isLoading, main, movies, isModalOpen, videoId } = this.state\n\n    return (\n      <Fragment>\n        <Header />\n        <main className=\"container\">\n          { isLoading ? (\n            <Skeleton />\n          ) : ( \n            <Fragment>\n              <Main \n                title={main.title}\n                summary={main.summary}\n                poster={main.medium_cover_image}\n                bg={main.background_image_original}\n              />\n              <section className=\"list-movie\">\n              {movies.map(movie => (\n                <Movie\n                  key={movie.id}\n                  id={movie.id.toString()}\n                  title={movie.title}\n                  summary={movie.summary}\n                  poster={movie.medium_cover_image}\n                  genres={movie.genres}\n                  videoId={movie.yt_trailer_code}\n                  handleModalOpen={this.handleModalOpen.bind(this, movie.yt_trailer_code)}\n                />\n              ))}\n              </section>\n              <Modal open={isModalOpen} close={this.handleModalClose} videoId={videoId} />\n            </Fragment>\n          )}\n        </main>\n      </Fragment>\n    )}\n  }\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('main-root')\n);\n"],"sourceRoot":""}