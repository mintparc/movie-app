(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{47:function(e,s,t){},49:function(e,s,t){},50:function(e,s,t){},51:function(e,s,t){},52:function(e,s,t){"use strict";t.r(s);var i=t(3),a=t.n(i),n=t(15),r=t.n(n),c=t(5),o=t.n(c),m=t(16),l=t(17),d=t(18),u=t(21),j=t(19),v=t(6),g=t.n(v),b=t(2),p=t.n(b),_=(t(47),t(0));function O(e){e.id;var s=e.title,t=e.summary,i=e.poster,a=e.bg;return Object(_.jsxs)("div",{className:"movies_main",style:{backgroundImage:"url( ".concat(a," )")},children:[Object(_.jsx)("div",{className:"main_gradient"}),Object(_.jsx)("img",{className:"main_poster",src:i,alt:s}),Object(_.jsx)("h3",{className:"main_title",children:s}),Object(_.jsx)("p",{className:"main_summary",children:t})]})}O.prototypes={id:p.a.number.isRequired,title:p.a.string.isRequired,summary:p.a.string.isRequired,poster:p.a.string.isRequired,bg:p.a.string.isRequired};var h=O,x=t(20),f=(t(49),t.p+"static/media/fill-heart.6dcaf848.svg"),y=t.p+"static/media/empty-heart.c31d61db.svg";function N(e){var s=e.id,t=e.title,a=e.summary,n=e.poster,r=e.genres,c=[],o=function(){localStorage.setItem("favorites",JSON.stringify(c))},m=function(e){var s=e.target;d(),c=c.filter((function(e){return e!==s.id})),o(),g({img:y,onclick:l})},l=function(e){var s=e.target;d(),c.push(s.id),o(),g({img:f,onclick:m})},d=function(){var e=localStorage.getItem("favorites");if(null!==e){var s=JSON.parse(e);c=s}};d();var u=Object(i.useState)({img:c.includes(s)?f:y,onclick:c.includes(s)?m:l}),j=Object(x.a)(u,2),v=j[0],g=j[1];return Object(_.jsxs)("div",{className:"movies_movie",children:[Object(_.jsx)("img",{className:"movie_poster",src:n,alt:t}),Object(_.jsxs)("div",{className:"movie_data",children:[Object(_.jsx)("img",{className:"movie_heart",id:s,src:v.img,onClick:v.onclick,alt:"heart"}),Object(_.jsx)("h3",{className:"movie_title",children:t}),Object(_.jsx)("ul",{className:"movie_genres",children:r.slice(0,3).map((function(e,s){return Object(_.jsx)("li",{className:"genres_genre",children:e},s)}))}),Object(_.jsx)("p",{className:"movie_summary",children:a})]})]})}N.prototypes={id:p.a.string.isRequired,title:p.a.string.isRequired,summary:p.a.string.isRequired,poster:p.a.string.isRequired,genres:p.a.arrayOf(p.a.string).isRequired};var k=N,q=(t(50),t.p+"static/media/skeleton-heart.fdb76413.svg");var R=function(){return Object(_.jsxs)("div",{className:"skeleton",children:[Object(_.jsxs)("div",{className:"skeleton_main",children:[Object(_.jsx)("div",{className:"skeleton_main_poster"}),Object(_.jsx)("p",{className:"skeleton_main_title"}),Object(_.jsx)("p",{className:"skeleton_main_summary"})]}),Object(_.jsx)("div",{className:"skeleton_movie",children:Array(20).fill("").map((function(e,s){return Object(_.jsxs)("div",{className:"skeleton_movies",children:[Object(_.jsx)("div",{className:"skeleton_movies_img"}),Object(_.jsxs)("div",{className:"skeleton_movies_data",children:[Object(_.jsx)("img",{className:"skeleton_movies_heart",src:q,alt:"heart"}),Object(_.jsx)("p",{className:"skeleton_movies_title"}),Object(_.jsx)("p",{className:"skeleton_movies_genres"}),Object(_.jsx)("p",{className:"skeleton_movies_summary"})]})]},s)}))})]})},S=(t(51),function(e){Object(u.a)(t,e);var s=Object(j.a)(t);function t(){var e;Object(l.a)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=s.call.apply(s,[this].concat(a))).state={isLoading:!0,main:[],movies:[]},e.getMovies=Object(m.a)(o.a.mark((function s(){var t,i,a,n;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,g.a.get("https://yts-proxy.now.sh/list_movies.json?limit=1&sort_by=like_count&page=3");case 2:return t=s.sent,i=t.data.data.movies[0],s.next=6,g.a.get("https://yts-proxy.now.sh/list_movies.json?sort_by=like_count&quality=3D");case 6:a=s.sent,n=a.data.data.movies,e.setState({main:i,movies:n,isLoading:!1});case 9:case"end":return s.stop()}}),s)}))),e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this.state,s=e.isLoading,t=e.main,i=e.movies;return Object(_.jsx)("section",{className:"container",children:s?Object(_.jsx)(R,{}):Object(_.jsxs)("div",{className:"movies",children:[Object(_.jsx)(h,{id:t.id,title:t.title,summary:t.summary,poster:t.medium_cover_image,bg:t.background_image_original},t.id),Object(_.jsx)("div",{className:"movie",children:i.map((function(e){return Object(_.jsx)(k,{id:e.id.toString(),title:e.title,summary:e.summary,poster:e.medium_cover_image,genres:e.genres},e.id)}))})]})})}}]),t}(a.a.Component));r.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(S,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.579fed41.chunk.js.map