(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{48:function(e,t,a){},50:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var s=a(2),i=a.n(s),n=a(4),c=a.n(n),r=a(6),o=a.n(r),l=a(17),d=a(18),m=a(19),j=a(25),u=a(23),v=a(7),b=a.n(v),h=(a(48),a(0));var p=function(){return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)("h1",{className:"header__logo",children:"\u3147\u3155\u3147 \u314e\u3157\u314f"}),Object(h.jsx)("nav",{className:"nav-menu"})]})};a(50);var O=function(){return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsx)("div",{className:"information",children:Object(h.jsx)("a",{href:"https://github.com/mintparc",target:"__blank",children:"\xa9 \ubc15\ud558"})})})},g=a(1),_=a.n(g);a(53);function x(e){var t=e.title,a=e.summary,s=e.poster,i=e.bg;return Object(h.jsxs)("div",{className:"main-movie",style:{backgroundImage:"url( ".concat(i," )")},children:[Object(h.jsx)("div",{className:"main-movie__gradient"}),Object(h.jsx)("img",{className:"main-movie__poster",src:s,alt:t}),Object(h.jsx)("h3",{className:"main-movie__title",children:t}),Object(h.jsx)("p",{className:"main-movie__summary",children:a})]})}x.prototypes={title:_.a.string.isRequired,summary:_.a.string.isRequired,poster:_.a.string.isRequired,bg:_.a.string.isRequired};var f=x,N=a(24),y=(a(54),a.p+"static/media/fill-heart.6dcaf848.svg"),k=a.p+"static/media/empty-heart.c31d61db.svg";function M(e){var t=e.id,a=e.title,i=e.summary,n=e.poster,c=e.genres,r=e.handleModalOpen,o=[],l=function(){localStorage.setItem("favorites",JSON.stringify(o))},d=function(e){var t=e.target;j(),o=o.filter((function(e){return e!==t.id})),l(),p({img:k,onclick:m})},m=function(e){var t=e.target;j(),o.push(t.id),l(),p({img:y,onclick:d})},j=function(){var e=localStorage.getItem("favorites");if(null!==e){var t=JSON.parse(e);o=t}};j();var u=Object(s.useState)({img:o.includes(t)?y:k,onclick:o.includes(t)?d:m}),v=Object(N.a)(u,2),b=v[0],p=v[1];return Object(h.jsx)(s.Fragment,{children:Object(h.jsxs)("div",{className:"card-movie",children:[Object(h.jsx)("div",{className:"card-movie__trailer",children:Object(h.jsx)("button",{onClick:r,children:"\u25b6\ufe0e show trailer"})}),Object(h.jsx)("img",{className:"card-movie__poster",src:n,alt:a}),Object(h.jsxs)("div",{className:"card-movie__data",children:[Object(h.jsx)("img",{className:"card-movie__heart",id:t,src:b.img,onClick:b.onclick,alt:"heart"}),Object(h.jsx)("h3",{className:"card-movie__title",children:a}),Object(h.jsx)("ul",{className:"card-movie__genres",children:c.slice(0,3).map((function(e,t){return Object(h.jsx)("li",{className:"card-movie__genre",children:e},t)}))}),Object(h.jsx)("p",{className:"card-movie__summary",children:i})]})]})})}M.prototypes={id:_.a.string.isRequired,title:_.a.string.isRequired,summary:_.a.string.isRequired,poster:_.a.string.isRequired,genres:_.a.arrayOf(_.a.string).isRequired};var I=M,q=(a(55),a.p+"static/media/skeleton-heart.fdb76413.svg");var S=function(){return Object(h.jsxs)(s.Fragment,{children:[Object(h.jsxs)("section",{className:"main-skeleton",children:[Object(h.jsx)("div",{className:"main-skeleton__poster"}),Object(h.jsx)("p",{className:"main-skeleton__title"}),Object(h.jsx)("p",{className:"main-skeleton__summary"})]}),Object(h.jsx)("section",{className:"list-skeleton",children:Array(20).fill("").map((function(e,t){return Object(h.jsxs)("div",{className:"card-skeleton",children:[Object(h.jsx)("div",{className:"card-skeleton__poster"}),Object(h.jsxs)("div",{className:"card-skeleton__data",children:[Object(h.jsx)("img",{className:"card-skeleton__heart",src:q,alt:"heart"}),Object(h.jsx)("p",{className:"card-skeleton__title"}),Object(h.jsx)("p",{className:"card-skeleton__genres"}),Object(h.jsx)("p",{className:"card-skeleton__summary"})]})]},t)}))})]})},w=a(20),R=(a(67),function(e){var t=e.children,a=document.getElementById("modal-root");return c.a.createPortal(t,a)});var C=function(e){var t=e.open,a=e.close,s=e.videoId;return Object(h.jsx)(R,{elementId:"modal",children:Object(h.jsx)("div",{className:t?"modal modal--open":"modal",onClick:a,children:t?Object(h.jsxs)("section",{onClick:function(e){return e.stopPropagation()},children:[Object(h.jsx)(w.a,{videoId:s,opts:{width:"100%",height:"550px",playerVars:{autoplay:1}}}),Object(h.jsx)("button",{className:"close",onClick:a,children:"close"})]}):null})})},F=(a(68),function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={isLoading:!0,isModalOpen:!1,main:[],movies:[],videoId:""},e.getMovies=Object(l.a)(o.a.mark((function t(){var a,s,i,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("https://yts-proxy.now.sh/list_movies.json?limit=1&sort_by=like_count&genre=animation&page=4");case 2:return a=t.sent,s=a.data.data.movies[0],t.next=6,b.a.get("https://yts-proxy.now.sh/list_movies.json?sort_by=like_count&quality=3D&genre=animation&page=2");case 6:i=t.sent,n=i.data.data.movies,e.setState({main:s,movies:n,isLoading:!1});case 9:case"end":return t.stop()}}),t)}))),e.handleModalOpen=function(t){e.setState({isModalOpen:!0,videoId:t})},e.handleModalClose=function(){e.setState({isModalOpen:!1})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,i=t.main,n=t.movies,c=t.isModalOpen,r=t.videoId;return Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)(p,{}),Object(h.jsx)("main",{className:"container",children:a?Object(h.jsx)(S,{}):Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)(f,{title:i.title,summary:i.summary,poster:i.medium_cover_image,bg:i.background_image_original}),Object(h.jsx)("section",{className:"list-movie",children:n.map((function(t){return Object(h.jsx)(I,{id:t.id.toString(),title:t.title,summary:t.summary,poster:t.medium_cover_image,genres:t.genres,videoId:t.yt_trailer_code,handleModalOpen:e.handleModalOpen.bind(e,t.yt_trailer_code)},t.id)}))}),Object(h.jsx)(C,{open:c,close:this.handleModalClose,videoId:r})]})}),Object(h.jsx)(O,{})]})}}]),a}(i.a.Component));c.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("main-root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.188d3c9c.chunk.js.map